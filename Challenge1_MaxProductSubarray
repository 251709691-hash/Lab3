import java.util.Scanner;


public class Challenge1_MaxProductSubarray {
public static void main(String[] args) {
Scanner sc = new Scanner(System.in);


System.out.print("Enter number of elements: ");
int n = sc.nextInt();


int[] nums = new int[n];
System.out.println("Enter array elements:");
for (int i = 0; i < n; i++) {
nums[i] = sc.nextInt();
}


int result = maxProduct(nums);
System.out.println("Maximum product of subarray = " + result);


sc.close();
}


public static int maxProduct(int[] nums) {
int maxProduct = nums[0];
int minProduct = nums[0];
int answer = nums[0];


for (int i = 1; i < nums.length; i++) {
int temp = maxProduct;
maxProduct = Math.max(nums[i], Math.max(maxProduct * nums[i], minProduct * nums[i]));
minProduct = Math.min(nums[i], Math.min(temp * nums[i], minProduct * nums[i]));
answer = Math.max(answer, maxProduct);
}


return answer;
}
}